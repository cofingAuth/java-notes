### RabbitMQ
#### 1. 优点与缺点
	优点：解耦、异步、削峰
	缺点：系统可用性降低、系统复杂度提高、一致性问题

#### 2. 如何保证不丢失数据?
	生产端：
		1：开启事务（不推荐，太耗性能降低吞吐）
		2：开启 confirm 模式（推荐），生产者开启confirm模式之后，每次写的消息都会分配一个唯一id，然后写入rabbitmq，rabbitmq会回传一个ack消息，告诉你这个消息ok了；如果rabbitmq没能处理这个消息，会回调你的nack接口；而且你可以结合这个机制自己在内存里维护每个消息 id 的状态，如果超过一定时间还没接收到这个消息的回调，那么你可以重发。
	消息队列：
		开启持久化，即消息会持久化到磁盘；
		设置持久化有两个步骤：
		1：创建 queue 的时候将其设置为持久化，这样就可以保证 RabbitMQ 持久化 queue 的元数据，但是它是不会持久化 queue 里的数据的。
		2：第二个是发送消息的时候将消息的 deliveryMode 设置为 2。就是将消息设置为持久化的，此时 RabbitMQ 就会将消息持久化到磁盘上去。
	消费端：
		